(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{460:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={data:function(){return{rules:{required:function(t){return!!t||"Required!"},number:function(t){return!isNaN(t)||"Must be a number!"}}}}}},464:function(t,e,n){var content=n(478);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("c6a73764",content,!0,{sourceMap:!1})},476:function(t,e,n){"use strict";n(240)("small",function(t){return function(){return t(this,"small","","")}})},477:function(t,e,n){"use strict";var r=n(464);n.n(r).a},478:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".upload-btn[data-v-23e895ce]{padding-left:16px;padding-right:16px}.upload-btn input[type=file][data-v-23e895ce]{position:absolute;height:.1px;width:.1px;overflow:hidden;opacity:0;z-index:-1}.upload-btn>.v-btn__content>span[data-v-23e895ce]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.upload-btn.v-btn--disabled[data-v-23e895ce]{background-color:grey!important}.upload-btn-hover[data-v-23e895ce]{cursor:pointer}",""])},479:function(t,e){t.exports=function(component,t){var e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.directives=component.exports.options.directives),e.directives=e.directives||{},t)e.directives[i]=e.directives[i]||t[i]}},480:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(78),n(238),n(41);var r={data:function(){return{snack:{text:"none",color:"error",show:!1}}},computed:{auth:function(){return this.$store.state.auth}},methods:{checkRole:function(t){var e=this;return new Promise(function(n,r){e.auth.loggedIn||n(!1),e.$auth.getUserRoles().then(function(e){e.find(function(e){return e.name===t||e.id===t})?n(!0):n(!1)}).catch(function(t){console.error(t),r(t)})})},checkRoles:function(t){var e=this;return new Promise(function(n,r){e.auth.loggedIn||n(!1),e.$auth.getUserRoles().then(function(e){t.forEach(function(t){e.find(function(e){return e.name===t||e.id===t})?n(!0):n(!1)})}).catch(function(t){console.error(t),r(t)})})},noPerms:function(){this.snack.text="Not logged in or insufficient permissions!",this.snack.color="error",this.snack.show=!0}}}},481:function(t,e,n){"use strict";n(239);var r={name:"DataTable",props:{name:{type:String,default:null},add:Boolean,useSearch:Boolean,search:{type:String,default:null},loading:Boolean,snack:{type:Object,default:function(){return{text:"none",color:"error",show:!1}}}},computed:{searchModel:{get:function(){return this.search},set:function(t){this.$emit("update:search",t)}}}},o=n(40),l=n(95),c=n.n(l),d=n(150),f=n(151),m=n(171),v=n(208),h=n(217),x=n(166),_=n(219),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"info",elevation:"5"}},[n("v-toolbar",{attrs:{color:"primary","extension-height":"65px",dense:"",card:""},scopedSlots:t._u([t.useSearch?{key:"extension",fn:function(){return[n("v-text-field",{staticClass:"grow",attrs:{"append-icon":"search",label:"Search "+t.name,color:"accent","persistent-hint":"",box:"","hide-details":"",clearable:"",dark:""},model:{value:t.searchModel,callback:function(e){t.searchModel=e},expression:"searchModel"}}),t._v(" "),t._t("extension")]},proxy:!0}:null],null,!0)},[n("v-toolbar-title",{staticClass:"secondary--text"},[t._v("\n      "+t._s(t.name||"")+"\n    ")]),t._v(" "),n("v-spacer"),t._v(" "),t._t("buttons"),t._v(" "),t.add?n("v-btn",{staticClass:"secondary--text",attrs:{loading:t.loading,color:"success",small:""},on:{click:function(e){return t.$emit("add")}}},[t._v("\n      Add"+t._s(t.name?" "+t.name:"")+"\n    ")]):t._e()],2),t._v(" "),t._t("default"),t._v(" "),n("v-snackbar",{attrs:{timeout:5e3,color:t.snack.color},model:{value:t.snack.show,callback:function(e){t.$set(t.snack,"show",e)},expression:"snack.show"}},[t._v("\n    "+t._s(t.snack.text)+"\n    "),n("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.snack.show=!1}}},[t._v("\n      Close\n    ")])],1)],2)},[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:f.a,VSnackbar:m.a,VSpacer:v.e,VTextField:h.a,VToolbar:x.a,VToolbarTitle:_.d})},482:function(t,e,n){"use strict";var r={name:"NewData",props:{name:{type:String,default:null},show:Boolean}},o=n(40),l=n(95),c=n.n(l),d=n(151),f=n(218),m=n(152),v=n(87),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.show,"max-width":"500px",persistent:""}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-title",{staticClass:"title secondary--text justify-center"},[t._v("\n      New"+t._s(t.name?" "+t.name:"")+"\n    ")]),t._v(" "),n("v-card-text",[t._t("default")],2),t._v(" "),n("v-card-actions",{staticClass:"justify-center"},[t._t("actions")],2)],1)],1)},[],!1,null,null,null);e.a=component.exports;c()(component,{VCard:d.a,VCardActions:f.b,VCardText:f.d,VCardTitle:m.a,VDialog:v.a})},483:function(t,e,n){"use strict";var r={name:"EditData",props:{name:{type:String,default:null},item:{type:Object,default:function(){}},show:Boolean}},o=n(40),l=n(95),c=n.n(l),d=n(151),f=n(218),m=n(152),v=n(87),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.show,"max-width":"500px",persistent:""}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-title",{staticClass:"title secondary--text justify-center pb-0"},[t._v("\n      Edit"+t._s(t.name?" "+t.name:"")+t._s(t.item&&t.item.type?" "+t.item.type.slice(0,1).toUpperCase()+t.item.type.slice(1):"")+"\n    ")]),t._v(" "),t.item?n("v-card-title",{staticClass:"body-2 secondary--text justify-center py-0"},[t._v("\n      "+t._s(t.item.name||"")+"\n    ")]):t._e(),t._v(" "),n("v-card-text",[t._t("default")],2),t._v(" "),n("v-card-actions",{staticClass:"justify-center"},[t._t("actions")],2)],1)],1)},[],!1,null,null,null);e.a=component.exports;c()(component,{VCard:d.a,VCardActions:f.b,VCardText:f.d,VCardTitle:m.a,VDialog:v.a})},484:function(t,e,n){"use strict";n(78),n(476);var r={name:"UploadBtn",props:{accept:{default:"*",type:String},block:{default:!1,type:Boolean},depressed:{default:!1,type:Boolean},color:{default:"primary",type:String},disabled:{default:!1,type:Boolean},fixedWidth:{default:null,type:String},flat:{default:!1,type:Boolean},hover:{default:!0,type:Boolean},icon:{default:!1,type:Boolean},labelClass:{default:"",type:String},large:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},maxWidth:{default:"100%",type:String},multiple:{default:!1,type:Boolean},name:{default:"uploadFile",type:String},outline:{default:!1,type:Boolean},ripple:{default:!0,type:Boolean},round:{default:!1,type:Boolean},small:{default:!1,type:Boolean},title:{default:"Upload",type:String},noTitleUpdate:{default:!1,type:Boolean}},data:function(){return{uTitle:null}},computed:{classes:function(){var t={"v-btn--block":this.block,"v-btn--flat":this.flat,"upload-btn-hover":this.hover,"v-btn--icon":this.icon,"v-btn--large":this.large,"v-btn--loading":this.loading,"v-btn--outline v-btn--depressed":this.outline,"v-btn--round":this.round,"v-btn--small":this.small,"v-btn--disabled":this.disabled,"v-btn--depressed":this.depressed};this.flat&&(this.color="");var e="";for(var n in t)t[n]&&(e+="".concat(n," "));return e}},methods:{fileChanged:function(t){if(t)if(t.target.files.length>0)if(this.multiple){for(var title="",i=0;i<t.target.files.length;i++)title+=t.target.files[i].name+", ";title=title.slice(0,title.length-2),this.uTitle=title,this.$emit("file-update",t.target.files)}else this.uTitle=t.target.files[0].name,this.$emit("file-update",t.target.files[0]);else this.uTitle=null,this.$emit("file-update")},clear:function(){document.getElementById("".concat(this._uid,"uploadFile")).value="",this.$emit("file-update"),this.uTitle=null}}},o=(n(477),n(40)),l=n(479),c=n.n(l),d=n(26),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-btn"},[n("input",{ref:"fileInput",attrs:{id:t._uid+"uploadFile",type:"file",name:t.name,accept:t.accept,multiple:t.multiple},on:{change:t.fileChanged}}),t._v(" "),n("label",{directives:[{name:"ripple",rawName:"v-ripple",value:t.ripple,expression:"ripple"}],class:"v-btn "+t.classes+t.color+" "+t.labelClass+" upload-btn",style:{maxWidth:t.maxWidth,width:t.fixedWidth||"auto"},attrs:{id:"label"+t._uid+"uploadFile",for:t._uid+"uploadFile"}},[n("div",{staticClass:"v-btn__content",staticStyle:{"max-width":"100%"}},[t._t("icon-left"),t._v(" "),n("span",[t._v("\n        "+t._s(t.icon?"":t.noTitleUpdate?t.title:t.uTitle||t.title)+"\n      ")]),t._v(" "),t._t("icon")],2)])])},[],!1,null,"23e895ce",null);e.a=component.exports;c()(component,{Ripple:d.a})},492:function(t,e,n){var content=n(502);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("72272fde",content,!0,{sourceMap:!1})},493:function(t,e,n){var content=n(504);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("28b06282",content,!0,{sourceMap:!1})},501:function(t,e,n){"use strict";var r=n(492);n.n(r).a},502:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".v-tabs__slider{height:3px}",""])},503:function(t,e,n){"use strict";var r=n(493);n.n(r).a},504:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".data-row:hover{cursor:pointer}img.mat-icon{vertical-align:middle;margin-top:2px;margin-bottom:2px}",""])},510:function(t,e,n){"use strict";n.r(e);var r=n(44),o=(n(41),n(481)),l=n(482),c=n(460),d={name:"NewMaterial",components:{NewData:l.a},mixins:[c.a],props:{show:Boolean},data:function(){return{form:null,loading:!1,formData:{name:null,weight:null,rarity:null,color:null,type:null},rarities:[{t:"Common",v:"common"},{t:"Uncommon",v:"uncommon"},{t:"Rare",v:"rare"},{t:"Exotic",v:"exotic"}]}},watch:{show:function(t,e){var n=this;t&&this.$nextTick(function(){return n.$refs.materialNameField.focus()})}},mounted:function(){this.reset()},methods:{add:function(){var t=this;this.loading=!0,this.$api.post("/materials",this.formData).then(function(e){t.$emit("close","success")}).catch(function(e){console.error(e),t.$emit("close","error")}).finally(function(){t.loading=!1,t.reset()})},reset:function(){this.loading=!1,this.$refs.form.reset()}}},f=n(40),m=n(95),v=n.n(m),h=n(150),x=n(156),_=n(170),y=n(159),w=n(112),k=n(217),component=Object(f.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("new-data",{attrs:{show:t.show,name:"Material"},scopedSlots:t._u([{key:"actions",fn:function(){return[n("v-btn",{staticClass:"secondary--text",attrs:{color:"warning"},on:{click:function(e){t.$emit("close"),t.reset()}}},[t._v("\n      Cancel\n    ")]),t._v(" "),n("v-btn",{staticClass:"primary--text",attrs:{color:"info"},on:{click:function(e){return t.$refs.form.reset()}}},[t._v("\n      Reset\n    ")]),t._v(" "),n("v-btn",{staticClass:"secondary--text",attrs:{disabled:!t.form,loading:t.loading,color:"success"},on:{click:t.add}},[t._v("\n      Add\n    ")])]},proxy:!0}])},[n("v-form",{ref:"form",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{ref:"materialNameField",attrs:{rules:[t.rules.required],label:"Material Name",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-select",{attrs:{items:[{t:"Metal",v:"metal"},{t:"Wood",v:"wood"}],rules:[t.rules.required],"item-text":"t","item-value":"v",label:"Type",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-select",{attrs:{items:t.rarities,rules:[t.rules.required],"item-text":"t","item-value":"v",label:"Rarity",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.rarity,callback:function(e){t.$set(t.formData,"rarity",e)},expression:"formData.rarity"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.required,t.rules.number],label:"Weight",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.weight,callback:function(e){t.$set(t.formData,"weight",t._n(e))},expression:"formData.weight"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.required],label:"Color",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1)],1)],1)],1)},[],!1,null,null,null),D=component.exports;v()(component,{VBtn:h.a,VFlex:x.a,VForm:_.a,VLayout:y.a,VSelect:w.a,VTextField:k.a});n(78),n(63);var C=n(17),$=n(483),V=n(484),j={name:"EditMaterial",components:{EditData:$.a,UploadButton:V.a},mixins:[c.a],props:{show:Boolean,item:{type:Object,default:function(){}}},data:function(){return{tab:"info",tabs:["info","engines","wings","cannons/swivel guns","other"],loading:!1,delLoading:!1,formData:{},rarities:[{text:"Common",value:"common"},{text:"Uncommon",value:"uncommon"},{text:"Rare",value:"rare"},{text:"Exotic",value:"exotic"}],boosts:{engine:{mech:["pwr","oh","fe"],comb:["pwr","oh","su"],prop:["su","fe"]},wing:{mech:["pwr","piv"],aileron:["pwr","piv"]},"cannon/swivel":{firing:["pwr","rof"],barrel:["pwr","cap","oh"],ammo:["cap","oh","rof"]}},types:{mech:"Mechanical Internals",comb:"Combustion Internals",prop:"Propellor",aileron:"Aileron",firing:"Firing Mechanism",barrel:"Barrel",ammo:"Ammo Loader",pwr:"Power",oh:"Overheat Limit",fe:"Fuel Efficiency",su:"Spin Up",piv:"Pivot Speed",rof:"Rate Of Fire",cap:"Capacity"}}},watch:{item:function(t,e){t?Object.assign(this.formData,this.item):this.formData={}}},methods:{reset:function(){var t=this;this.formData=this.resetObj(this.formData),this.$refs.flavor.clear(),this.$refs.icon.clear(),this.$nextTick(function(){return Object.assign(t.formData,t.item)})},edit:function(){var t=this;this.loading=!0;var e=new FormData;for(var n in this.formData)this.formData.hasOwnProperty(n)&&e.append(n,this.formData[n]);this.$api.put("/materials/".concat(this.item._id),e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.$emit("close","success")}).catch(function(e){console.error(e),t.$emit("close","error")}).finally(function(){t.loading=!1})},del:function(){var t=Object(C.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("Do you really want to delete the material ".concat(this.item.name,"?"));case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:this.delLoading=!0,this.$api.delete("/materials/".concat(this.item._id)).then(function(t){e.reset(),e.$emit("close","success")}).catch(function(t){console.error(t),e.reset(),e.$emit("close","error")}).finally(function(){e.delLoading=!1});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),resetObj:function(t){var e=Object.assign({},t);for(var i in e)e.hasOwnProperty(i)&&("object"===Object(r.a)(e[i])?e[i]=this.resetObj(e[i]):e[i]=null);return e},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}}},S=(n(501),n(158)),O=n(172),T=n(173),B=n(176),E=n(90),M=n(91),F=Object(f.a)(j,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("edit-data",{attrs:{show:t.show,name:"Material",item:t.item||null},scopedSlots:t._u([{key:"actions",fn:function(){return[n("v-btn",{staticClass:"secondary--text",attrs:{color:"error"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n      Cancel\n    ")]),t._v(" "),n("v-btn",{staticClass:"primary--text",attrs:{color:"info"},on:{click:t.reset}},[t._v("\n      Reset\n    ")]),t._v(" "),n("v-btn",{staticClass:"secondary--text",attrs:{loading:t.loading,color:"success"},on:{click:t.edit}},[t._v("\n      Edit\n    ")]),t._v(" "),n("v-btn",{staticClass:"secondary--text",attrs:{loading:t.delLoading,color:"warning"},on:{click:t.del}},[t._v("\n      Delete\n    ")])]},proxy:!0}])},[t.isEmpty(t.formData)?t._e():[n("v-tabs",{ref:"test",staticClass:"mb-2",attrs:{color:"accent",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"info"}}),t._v(" "),t._l(t.tabs,function(e){return n("v-tab",{key:e,staticClass:"primary--text",attrs:{href:"#"+e}},[t._v("\n        "+t._s(e)+"\n      ")])})],2),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{attrs:{value:"info"}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:"Weight",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.weight,callback:function(e){t.$set(t.formData,"weight",t._n(e))},expression:"formData.weight"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-select",{attrs:{items:t.rarities,label:"Rarity",color:"accent","hide-details":"",box:"","persistent-hint":""},model:{value:t.formData.rarity,callback:function(e){t.$set(t.formData,"rarity",e)},expression:"formData.rarity"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{label:"Color",color:"accent",box:"","persistent-hint":""},model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[t.item?n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("div",{staticClass:"text-xs-center title"},[t._v("\n                  Flavor Text Image\n                ")]),t._v(" "),n("upload-button",{ref:"flavor",staticClass:"px-1",attrs:{disabled:!!t.item.flavor,"no-title-update":!!t.item.flavor,"label-class":"primary--text accent",title:t.item.flavor?"Uploaded":"Upload",block:""},on:{"file-update":function(e){t.formData.flavor=e}},scopedSlots:t._u([{key:"icon-left",fn:function(){return[n("v-icon",{attrs:{color:"primary"}},[t._v("\n                      attach_file\n                    ")])]},proxy:!0}],null,!1,3541297032)})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("div",{staticClass:"text-xs-center title"},[t._v("\n                  Icon Image\n                ")]),t._v(" "),n("upload-button",{ref:"icon",staticClass:"px-1",attrs:{disabled:!!t.item.icon,"no-title-update":!!t.item.icon,"label-class":"primary--text accent",title:t.item.icon?"Uploaded":"Upload",block:""},on:{"file-update":function(e){t.formData.icon=e}},scopedSlots:t._u([{key:"icon-left",fn:function(){return[n("v-icon",{attrs:{color:"primary"}},[t._v("\n                      attach_file\n                    ")])]},proxy:!0}],null,!1,3541297032)})],1)],1):t._e()],1)],1)],1),t._v(" "),n("v-tab-item",{attrs:{value:"engines"}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[t._l(t.boosts.engine,function(e,i){return[n("v-flex",{key:i,attrs:{xs12:"","text-xs-center":""}},[n("span",{staticClass:"title"},[t._v(t._s(t.types[i]))])]),t._v(" "),t._l(e,function(e){return n("v-flex",{key:"engine_"+i+"_"+e,attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:t.types[e],color:"accent",box:"","persistent-hint":""},model:{value:t.formData["boosts.engine."+i+"."+e],callback:function(n){t.$set(t.formData,"boosts.engine."+i+"."+e,t._n(n))},expression:"formData[`boosts.engine.${i}.${stat}`]"}})],1)})]})],2)],1),t._v(" "),n("v-tab-item",{attrs:{value:"wings"}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[t._l(t.boosts.wing,function(e,i){return[n("v-flex",{key:i,attrs:{xs12:"","text-xs-center":""}},[n("span",{staticClass:"title"},[t._v(t._s(t.types[i]))])]),t._v(" "),t._l(e,function(e){return n("v-flex",{key:"engine_"+i+"_"+e,attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:t.types[e],color:"accent",box:"","persistent-hint":""},model:{value:t.formData["boosts.wing."+i+"."+e],callback:function(n){t.$set(t.formData,"boosts.wing."+i+"."+e,t._n(n))},expression:"formData[`boosts.wing.${i}.${stat}`]"}})],1)})]})],2)],1),t._v(" "),n("v-tab-item",{attrs:{value:"cannons/swivel guns"}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[t._l(t.boosts["cannon/swivel"],function(e,i){return[n("v-flex",{key:i,attrs:{xs12:"","text-xs-center":""}},[n("span",{staticClass:"title"},[t._v(t._s(t.types[i]))])]),t._v(" "),t._l(e,function(e){return n("v-flex",{key:"engine_"+i+"_"+e,attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:t.types[e],color:"accent",box:"","persistent-hint":""},model:{value:t.formData["boosts.cannon/swivel."+i+"."+e],callback:function(n){t.$set(t.formData,"boosts.cannon/swivel."+i+"."+e,t._n(n))},expression:"formData[`boosts.cannon/swivel.${i}.${stat}`]"}})],1)})]})],2)],1),t._v(" "),n("v-tab-item",{attrs:{value:"other"}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"","text-xs-center":""}},[n("span",{staticClass:"title"},[t._v("Other Boosts")])]),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:"Cooling Factor",color:"accent",box:"","persistent-hint":""},model:{value:t.formData["boosts.cf"],callback:function(e){t.$set(t.formData,"boosts.cf",e)},expression:"formData['boosts.cf']"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:"Resilience",color:"accent",box:"","persistent-hint":""},model:{value:t.formData["boosts.res"],callback:function(e){t.$set(t.formData,"boosts.res",e)},expression:"formData['boosts.res']"}})],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:"","px-1":""}},[n("v-text-field",{attrs:{rules:[t.rules.number],label:"Sky Core",color:"accent",box:"","persistent-hint":""},model:{value:t.formData["boosts.core"],callback:function(e){t.$set(t.formData,"boosts.core",e)},expression:"formData['boosts.core']"}})],1)],1)],1)],1)]],2)},[],!1,null,null,null),R=F.exports;v()(F,{VBtn:h.a,VFlex:x.a,VIcon:S.a,VLayout:y.a,VSelect:w.a,VTab:O.a,VTabItem:T.a,VTabs:B.a,VTabsItems:E.a,VTabsSlider:M.a,VTextField:k.a});var I=n(480),N={name:"Materials",head:function(){return{title:"Materials",meta:[{hid:"og:title",name:"og:title",content:"Materials"},{hid:"og:description",name:"og:description",content:"A collection of materials in WA"}]}},components:{DataTable:o.a,NewMaterial:D,EditMaterial:R},mixins:[I.a],data:function(){return{newLoading:!1,expand:!1,data:{loading:!0,error:!1},pagination:null,search:"",materials:[],dialogs:{new:!1,edit:!1},headers:[{text:"Icon",sortable:!1,align:"center",width:"100px"},{text:"Name",value:"name"},{text:"Weight",value:"weight"},{text:"Rarity",value:"rarity"},{text:"Flavor Text",sortable:!1,align:"center"},{text:"Edit",sortable:!1,align:"center"},{text:"State",sortable:!1,align:"center"}],currentEdit:null}},mounted:function(){this.refresh()},methods:{refresh:function(){var t=this;this.data.loading=!0,this.materials=[],this.$api.get("/materials/all").then(function(e){e.data.forEach(function(e){t.materials.push(t.flattenObject(e))})}).catch(function(e){console.error(e),t.data.error=!0}).finally(function(){return t.data.loading=!1})},openNew:function(){var t=this;this.newLoading=!0,this.checkRole("Admin").then(function(e){t.newLoading=!1,e?t.dialogs.new=!0:t.noPerms()})},flattenObject:function(t){var e={};for(var i in t)if(t.hasOwnProperty(i))if("object"===Object(r.a)(t[i])){var n=this.flattenObject(t[i]);for(var o in n)n.hasOwnProperty(o)&&(e[i+"."+o]=n[o])}else e[i]=t[i];return e},close:function(t,e){switch(this.currentEdit=null,this.dialogs[t]=!1,e){case"success":this.snack.text="Successfully updated materials!",this.refresh();break;case"error":this.snack.text="Something went wrong..."}e&&(this.snack.color=e,this.snack.show=!0)},edit:function(t){var e=this;this.checkRole("Admin").then(function(n){n?(e.dialogs.edit=!0,e.currentEdit=t.item):e.noPerms()})}}},U=(n(503),n(168)),L=n(177),P=n(87),A=n(86),W=n(174),J=Object(f.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",lg11:"",xl8:""}},[n("data-table",{attrs:{name:"Materials",search:t.search,loading:t.newLoading,snack:t.snack,add:"","use-search":""},on:{"update:search":function(e){t.search=e},"update:loading":function(e){t.newLoading=e},add:t.openNew},scopedSlots:t._u([{key:"buttons",fn:function(){return[n("v-btn",{staticClass:"primary--text",attrs:{loading:t.data.loading,color:"accent",small:""},on:{click:t.refresh}},[t._v("\n          Refresh\n        ")])]},proxy:!0}])},[t._v(" "),n("v-data-table",{staticClass:"pa-2",attrs:{headers:t.headers,items:t.materials,loading:!!t.data.loading&&"info",search:t.search,expand:t.expand,"item-key":"_id",dark:"","must-sort":"","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",{staticClass:"data-row",on:{click:function(t){e.expanded=!e.expanded}}},[n("td",{staticClass:"text-xs-center"},[n("img",{staticClass:"mat-icon",attrs:{src:e.item.icon?"https://drive.google.com/uc?id="+e.item.icon:"",alt:"missing",height:"50px"}})]),t._v(" "),n("td",{style:"color: "+e.item.color+";"},[t._v("\n              "+t._s(e.item.name)+"\n            ")]),t._v(" "),n("td",[t._v(t._s(e.item.weight))]),t._v(" "),n("td",[t._v(t._s(e.item.rarity.slice(0,1).toUpperCase()+e.item.rarity.slice(1)))]),t._v(" "),e.item.flavor?n("td",{staticClass:"text-xs-center"},[n("v-dialog",{attrs:{value:e.item.dialog,"max-width":"200px"},scopedSlots:t._u([{key:"activator",fn:function(e){var dialog=e.on;return[n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"primary--text",attrs:{color:"info",small:""}},Object.assign({},dialog,r)),[t._v("\n                          Image\n                        ")])]}}],null,!0)},[t._v("\n                      Flavor text image\n                      ")])],1)]}}],null,!0)},[t._v(" "),n("v-img",{staticClass:"primary lighten-2",attrs:{src:"https://drive.google.com/uc?id="+e.item.flavor}})],1)],1):n("td",{staticClass:"text-xs-center"},[t._v("\n              Missing\n            ")]),t._v(" "),n("td",{staticClass:"text-xs-center"},[n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",color:"primary",icon:""},on:{click:function(n){return n.stopPropagation(),t.edit(e)}},slot:"activator"},[n("v-icon",{attrs:{color:"info"}},[t._v("\n                    edit\n                  ")])],1),t._v("\n                Edit the material\n              ")],1)],1),t._v(" "),n("td",{staticClass:"text-xs-center"},[t._v("\n              "+t._s(e.item.enabled)+"\n            ")])])]}},{key:"no-data",fn:function(){return[!t.data.loading&&t.data.error?n("v-alert",{staticClass:"primary--text",attrs:{type:"error",value:!0}},[t._v("\n            Error loading clothing data. Probably a network issue.\n          ")]):t.data.loading&&!t.data.error?n("v-alert",{staticClass:"primary--text",attrs:{type:"info",value:!0}},[t._v("\n            Loading clothing data...\n          ")]):t.data.loading||t.data.error?t._e():n("v-alert",{staticClass:"primary--text",attrs:{type:"info",value:!0}},[t._v("\n            No clothing data!\n          ")])]},proxy:!0}])})],1),t._v(" "),n("new-material",{attrs:{show:t.dialogs.new},on:{close:function(e){return t.close("new",e)}}}),t._v(" "),n("edit-material",{attrs:{show:t.dialogs.edit,item:t.currentEdit},on:{close:function(e){return t.close("edit",e)}}})],1)],1)},[],!1,null,null,null);e.default=J.exports;v()(J,{VAlert:U.a,VBtn:h.a,VDataTable:L.a,VDialog:P.a,VFlex:x.a,VIcon:S.a,VImg:A.a,VLayout:y.a,VTooltip:W.a})}}]);